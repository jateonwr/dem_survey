<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <title>แบบฟอร์มสำรวจข้อมูล DEM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="min-h-screen bg-slate-100">
    <div class="mx-auto max-w-5xl px-4 py-8 sm:px-6 lg:px-8">
      <div class="rounded-2xl bg-white shadow-lg px-4 py-5 sm:px-6 sm:py-6 lg:px-8">
        
        <header class="border-b border-slate-200 pb-3 mb-5">
          <div class="flex items-center gap-4">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Emblem_of_the_Office_of_the_National_Water_Resources.svg/1014px-Emblem_of_the_Office_of_the_National_Water_Resources.svg.png"
              alt="สทนช. Emblem"
              class="h-12 w-12 object-contain"
            />
            <div>
              <h1 class="text-xl sm:text-2xl font-semibold text-slate-800">
                แบบฟอร์มสำรวจแบบจำลองความสูงเชิงเลขของหน่วยงานรัฐในประเทศไทย
              </h1>
              <p class="mt-1 text-sm text-slate-600">
                แบบจำลองความสูงเชิงเลข (Digital Elevation Model, DEM)
              </p>
            </div>
          </div>
        </header>

        <form id="demSurveyForm" class="space-y-7" novalidate>
          <section>
            <h2 class="text-lg font-semibold text-slate-800 mb-3 border-l-4 border-blue-600 pl-3">
              ส่วนที่ 1 : ข้อมูลพื้นฐานของหน่วยงาน
            </h2>
            <div class="flex flex-col gap-3 sm:flex-row mb-2">
              <div class="sm:flex-1">
                <label for="agencyName" class="block text-sm font-medium text-slate-700 mb-0.5">ชื่อหน่วยงาน</label>
                <input type="text" id="agencyName" name="agencyName" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น สำนักงานทรัพยากรน้ำแห่งชาติ (สทนช.)" />
              </div>
              <div class="sm:flex-1">
                <label for="subUnit" class="block text-sm font-medium text-slate-700 mb-0.5">หน่วยงานย่อย / สำนัก / กอง</label>
                <input type="text" id="subUnit" name="subUnit" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น กองวิจัยและพัฒนา" />
              </div>
            </div>
            <fieldset class="border border-slate-300 rounded-lg p-3 bg-slate-50/30">
              <legend class="px-2 text-sm font-semibold text-slate-700">ผู้ประสานงาน</legend>
              <div class="grid gap-3 sm:grid-cols-2">
                <div>
                  <label for="contactName" class="block text-sm font-medium text-slate-700">(คำนำหน้า) ชื่อ – สกุล</label>
                  <input type="text" id="contactName" name="contactName" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น นายสมชาย ใจดี" />
                </div>
                <div>
                  <label for="contactPosition" class="block text-sm font-medium text-slate-700">ตำแหน่ง</label>
                  <input type="text" id="contactPosition" name="contactPosition" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น วิศวกร" />
                </div>
                <div>
                  <label for="contactPhone" class="block text-sm font-medium text-slate-700">เบอร์โทรศัพท์</label>
                  <input type="tel" id="contactPhone" name="contactPhone" inputmode="numeric" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น xx-xxx-xxxx หรือ xxx-xxx-xxxx" />
                </div>
                <div>
                  <label for="contactEmail" class="block text-sm font-medium text-slate-700">อีเมล</label>
                  <input type="email" id="contactEmail" name="contactEmail" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น email@example.go.th" />
                </div>
              </div>
            </fieldset>
          </section>

          <hr class="border-slate-200" />

          <section>
            <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-4">
              <div>
                <h2 class="text-lg font-semibold text-slate-800 border-l-4 border-blue-600 pl-3">
                  ส่วนที่ 2 : รายการข้อมูล DEM ที่หน่วยงานมี
                </h2>
              </div>
              <button type="button" id="btnAddDemItem" class="inline-flex items-center justify-center rounded-lg border border-blue-600 bg-blue-600 px-2.5 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-blue-700 active:bg-blue-800 transition-colors gap-2">
                <i class="fa-solid fa-file-circle-plus"></i><span>เพิ่มชุดข้อมูล</span>
              </button>
            </div>

            <div id="demItemsContainer" class="space-y-5">
              <div class="dem-item rounded-xl border border-slate-300 bg-slate-50 px-3 py-4 sm:px-4 sm:py-4 relative">
                <div class="flex items-center justify-between gap-2 mb-3 border-b border-slate-200 pb-2">
                  <h3 class="text-sm font-bold text-slate-700 flex items-center gap-2">
                    ชุดข้อมูลที่ 1
                    <button type="button" class="btn-remove-dem-item inline-flex items-center justify-center rounded-md border border-rose-300 bg-white px-1 py-0.5 text-xm font-medium text-rose-600 hover:bg-rose-500 hover:text-white transition shadow-sm hidden" title="ลบชุดข้อมูลนี้">
                      <i class="fa-solid fa-xmark mr-1"> </i><span class="mr-1">ลบชุดข้อมูล</span>
                    </button>
                  </h3>
                  <div class="flex items-center gap-2">
                    <span class="text-[11px] text-slate-500 hidden sm:inline">ทั้งหมด</span>
                    <button type="button" class="item-toggle-all toggle-pill" data-state="hidden">
                      <span class="toggle-knob"></span><span class="toggle-label">แสดง</span>
                    </button>
                  </div>
                </div>

                <div class="space-y-4">
                  <div class="section-card rounded-lg bg-white border border-slate-200 px-3 py-3 space-y-3 shadow-sm">
                    <div class="section-header flex items-center justify-between select-none">
                      <p class="text-sm font-semibold text-slate-800">A. ข้อมูลทั่วไป</p>
                      <button type="button" class="section-toggle toggle-pill" data-state="shown">
                        <span class="toggle-knob"></span><span class="toggle-label">ซ่อน</span>
                      </button>
                    </div>
                    <div class="section-body space-y-3">
                      <div class="flex flex-col gap-3 sm:flex-row sm:items-start">
                        <div class="sm:flex-1">
                          <label class="block text-sm font-medium text-slate-700 mb-1">1. ชื่อชุดข้อมูล DEM</label>
                          <input type="text" name="demName[]" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น LiDAR พ.ศ. 2566 พื้นที่ลุ่มน้ำบางปะกง หรือชื่อโครงการจัดทำ DEM" />
                        </div>
                        <div class="sm:basis-[30%]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">2. แหล่งที่มา/ผู้ผลิตข้อมูล</label>
                          <select name="sourceType[]" class="source-select block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">-- เลือกแหล่งที่มา --</option><option value="self">หน่วยงานผลิตเอง</option><option value="rtsd">กรมแผนที่ทหาร</option><option value="gistda">GISTDA</option><option value="ldd">กรมพัฒนาที่ดิน</option><option value="other">อื่น ๆ (ระบุ)</option>
                          </select>
                          <div class="source-other-wrapper mt-2 hidden">
                            <input type="text" name="sourceOther[]" class="source-other-input block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุหน่วยงาน / บริษัท" disabled />
                          </div>
                        </div>
                        <div class="sm:basis-[10%] sm:max-w-[96px]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">3. ปีจัดทำ</label>
                          <select name="year[]" class="year-select block w-full rounded-md border border-slate-300 bg-white px-2 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">พ.ศ.</option>
                          </select>
                        </div>
                      </div>

                      <div>
                        <p class="block text-sm font-medium text-slate-700 mb-1">4. พื้นที่ครอบคลุม</p>
                        <div class="space-y-1 text-sm">
                          <label class="inline-flex items-center gap-2">
                            <input type="checkbox" name="coverageCountry[]" value="thailand_all" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500" />
                            <span>ประเทศไทยทั้งหมด</span>
                          </label>
                          <div class="space-y-1">
                            <div class="inline-flex flex-wrap items-center gap-2">
                              <label class="inline-flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" class="toggle-basin h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500" />
                                <span>ลุ่มน้ำ (สามารถระบุได้หลายค่า)</span>
                              </label>
                              <div class="basin-tags flex flex-wrap items-center gap-1"></div>
                            </div>
                            <div class="basin-block mt-1 hidden">
                              <input type="text" class="basin-search mb-1 block w-full rounded-md border border-slate-300 bg-white px-3 py-1 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="พิมพ์เพื่อค้นหาลุ่มน้ำ" />
                              <select name="coverageBasin[]" multiple class="basin-select block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"></select>
                              <p class="mt-1 text-xm text-slate-500">* Double Click เพื่อเพิ่ม/ลบ ลุ่มน้ำ</p>
                              <input type="hidden" name="coverageBasinOther[]" class="basin-other-input" />
                            </div>
                          </div>
                          <div class="space-y-1">
                            <div class="inline-flex flex-wrap items-center gap-2">
                              <label class="inline-flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" class="toggle-province h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500" />
                                <span>จังหวัด (สามารถระบุได้หลายค่า)</span>
                              </label>
                              <div class="province-tags flex flex-wrap items-center gap-1"></div>
                            </div>
                            <div class="province-block mt-1 hidden">
                              <input type="text" class="province-search mb-1 block w-full rounded-md border border-slate-300 bg-white px-3 py-1 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="พิมพ์เพื่อค้นหาจังหวัด" />
                              <select name="coverageProvince[]" multiple class="province-select block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"></select>
                              <p class="mt-1 text-xm text-slate-500">* Double Click เพื่อเพิ่ม/ลบ จังหวัด</p>
                              <input type="hidden" name="coverageProvinceOther[]" class="province-other-input" />
                            </div>
                          </div>
                          <div class="space-y-1">
                            <label class="inline-flex items-center gap-2">
                              <input type="checkbox" class="toggle-local h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500" />
                              <span>พื้นที่เฉพาะจุด (สามารถระบุได้หลายค่า)</span>
                            </label>
                            <button type="button" class="btn-add-local hidden inline-flex items-center justify-center rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors px-2 -translate-y-0.5 ml-1">
                              <i class="fa-solid fa-plus text-[10px] mr-1 mt-1"></i><span class="text-[10px] font-bold mt-1">เพิ่มพื้นที่</span>
                            </button>
                            <div class="local-container mt-1 hidden space-y-2">
                              <div class="local-row flex items-center gap-2">
                                <button type="button" class="btn-remove-local inline-flex items-center justify-center rounded-full bg-slate-100 text-slate-400 h-6 w-6 hover:bg-rose-500 hover:text-white transition-colors" disabled>
                                  <i class="fa-solid fa-minus text-xs"></i>
                                </button>
                                <input type="text" name="coverageLocal[]" class="local-input flex-1 block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed" placeholder="เช่น เขตเทศบาลเมืองหาดใหญ่" disabled />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="section-card rounded-lg bg-white border border-slate-200 px-3 py-3 space-y-3 shadow-sm">
                    <div class="section-header flex items-center justify-between select-none">
                      <p class="text-sm font-semibold text-slate-800">B. รายละเอียดทางเทคนิค</p>
                      <button type="button" class="section-toggle toggle-pill" data-state="hidden"><span class="toggle-knob"></span><span class="toggle-label">แสดง</span></button>
                    </div>
                    <div class="section-body space-y-3 hidden">
                      <div class="flex flex-col gap-3 lg:flex-row lg:items-start lg:flex-nowrap">
                        <div class="lg:flex-1 min-w-[160px]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">5. Resolution</label>
                          <select name="resolution[]" class="resolution-select block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">-- เลือก Resolution --</option><option value="30m">30 m</option><option value="10m">10 m</option><option value="5m">5 m</option><option value="1m">1 m</option><option value="lidar_sub1m">ต่ำกว่า 1 m (LiDAR / ระบุ)</option><option value="other">อื่น ๆ (ระบุ)</option>
                          </select>
                          <div class="resolution-other-wrapper mt-2 hidden">
                            <input type="text" name="resolutionOther[]" class="resolution-other-input block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น 0.5 m หรือรายละเอียดเพิ่มเติม" disabled />
                          </div>
                        </div>
                        <div class="lg:flex-1 min-w-[140px]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">6. Vertical Accuracy (ม.)</label>
                          <input type="text" name="verticalAccuracy[]" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น 0.15" />
                        </div>
                        <div class="lg:flex-1 min-w-[140px]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">7. Horizontal Accuracy (ม.)</label>
                          <input type="text" name="horizontalAccuracy[]" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น 0.30" />
                        </div>
                      </div>
                      <div class="flex flex-col gap-3 lg:flex-row lg:items-start lg:flex-nowrap">
                        <div class="lg:basis-1/2 min-w-[160px]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">8. Vertical Datum</label>
                          <select name="verticalDatum[]" class="vertical-datum-select block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">-- เลือก Vertical Datum --</option><option value="MSL">MSL</option><option value="EGM96">EGM96</option><option value="other">อื่น ๆ (ระบุ)</option>
                          </select>
                          <div class="vertical-datum-other-wrapper mt-2 hidden">
                            <input type="text" name="verticalDatumOther[]" class="vertical-datum-other-input block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุ Datum อื่น ๆ" disabled />
                          </div>
                        </div>
                        <div class="lg:basis-1/2 min-w-[160px]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">9. Coordinate System</label>
                          <select name="coordSys[]" class="coord-select block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">-- เลือก Coordinate System --</option><option value="WGS84">WGS84</option><option value="UTM47N">UTM 47N</option><option value="UTM48N">UTM 48N</option><option value="other">อื่น ๆ (ระบุ)</option>
                          </select>
                          <div class="coord-other-wrapper mt-2 hidden">
                            <input type="text" name="coordSysOther[]" class="coord-other-input block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุระบบพิกัดอื่น ๆ" disabled />
                          </div>
                        </div>
                      </div>
                      <fieldset class="border border-slate-200 rounded-lg px-3 py-3">
                        <legend class="block text-sm font-medium text-slate-700">10. วิธีการจัดทำ DEM (สามารถระบุได้หลายค่า)</legend>
                        <div class="flex flex-wrap gap-3 text-sm">
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="demMethodLidar[]" value="LiDAR" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>LiDAR</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="demMethodUav[]" value="UAV Photogrammetry" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>UAV Photogrammetry</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="demMethodAlos[]" value="ALOS" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>ALOS</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="demMethodSrtm[]" value="SRTM" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>SRTM</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="demMethodTanDEM[]" value="TanDEM-X" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>TanDEM-X</span></label>
                          <label class="inline-flex items-center gap-2 flex-1 min-w-[220px]">
                            <input type="checkbox" name="demMethodOtherFlag[]" value="other" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>อื่น ๆ</span>
                            <input type="text" name="demMethodOther[]" class="flex-1 rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุวิธีการจัดทำ DEM">
                          </label>
                        </div>
                      </fieldset>
                    </div>
                  </div>

                  <div class="section-card rounded-lg bg-white border border-slate-200 px-3 py-3 space-y-3 shadow-sm">
                    <div class="section-header flex items-center justify-between select-none">
                      <p class="text-sm font-semibold text-slate-800">C. รูปแบบไฟล์และการเข้าถึง</p>
                      <button type="button" class="section-toggle toggle-pill" data-state="hidden"><span class="toggle-knob"></span><span class="toggle-label">แสดง</span></button>
                    </div>
                    <div class="section-body space-y-3 hidden">
                      <fieldset class="border border-slate-200 rounded-lg px-3 py-3">
                        <legend class="block text-sm font-medium text-slate-700">11. File Format (สามารถระบุได้หลายค่า)</legend>
                        <div class="flex flex-wrap gap-3 text-sm">
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="formatGeoTIFF[]" value="GeoTIFF" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>GeoTIFF</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="formatIMG[]" value="IMG" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>IMG</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="formatASC[]" value="ASC" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>ASC</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="formatLAS[]" value="LAS/LAZ" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>LAS/LAZ</span></label>
                          <label class="inline-flex items-center gap-2 flex-1 min-w-[220px]">
                            <input type="checkbox" name="formatOtherFlag[]" value="other" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>อื่น ๆ</span>
                            <input type="text" name="formatOther[]" class="flex-1 rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุรูปแบบไฟล์อื่น ๆ">
                          </label>
                        </div>
                      </fieldset>
                      <div class="flex flex-col gap-3 md:flex-row md:items-start md:flex-wrap">
                        <div class="md:flex-1 md:min-w-[220px]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">12. ขนาดไฟล์</label>
                          <div class="flex flex-col gap-2 sm:flex-row sm:items-center">
                            <div class="w-full sm:w-1/2">
                              <input type="text" name="fileSize[]" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="เช่น 120" />
                            </div>
                            <div class="w-full sm:w-1/2">
                              <select name="fileSizeUnit[]" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">-- หน่วย --</option><option value="TB">TB</option><option value="GB">GB</option><option value="MB">MB</option><option value="KB">KB</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="md:flex-1 md:min-w-[220px]">
                          <label class="block text-sm font-medium text-slate-700 mb-1">13. ลิขสิทธิ์</label>
                          <select name="license[]" class="license-select block w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">-- เลือกลิขสิทธิ์ --</option><option value="open">Open Data</option><option value="internal">Internal</option><option value="exchange">Exchange</option><option value="restricted">Security Restricted</option><option value="other">อื่น ๆ (ระบุ)</option>
                          </select>
                          <div class="license-other-wrapper mt-2 hidden">
                            <input type="text" name="licenseOther[]" class="license-other-input block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุประเภทลิขสิทธิ์อื่น ๆ" disabled />
                          </div>
                        </div>
                      </div>
                      <fieldset class="border border-slate-200 rounded-lg px-3 py-3">
                        <legend class="block text-sm font-medium text-slate-700">14. ช่องทางการเข้าถึง (สามารถระบุได้หลายค่า)</legend>
                        <div class="flex flex-wrap gap-3 text-sm">
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="accessWeb[]" value="web" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>เว็บดาวน์โหลด</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="accessOfficial[]" value="official_letter" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>หนังสือราชการ</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="accessMou[]" value="mou_nda" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>MOU / NDA</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="accessInternal[]" value="internal" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>ภายในหน่วยงาน</span></label>
                          <label class="inline-flex items-center gap-2 flex-1 min-w-[220px]">
                            <input type="checkbox" name="accessOtherFlag[]" value="other" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>อื่น ๆ</span>
                            <input type="text" name="accessOther[]" class="flex-1 rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุช่องทางอื่น ๆ">
                          </label>
                        </div>
                      </fieldset>
                    </div>
                  </div>

                  <div class="section-card rounded-lg bg-white border border-slate-200 px-3 py-3 space-y-3 shadow-sm">
                    <div class="section-header flex items-center justify-between select-none">
                      <p class="text-sm font-semibold text-slate-800">D. คุณภาพและการใช้งาน</p>
                      <button type="button" class="section-toggle toggle-pill" data-state="hidden"><span class="toggle-knob"></span><span class="toggle-label">แสดง</span></button>
                    </div>
                    <div class="section-body space-y-3 hidden">
                      <fieldset class="border border-slate-200 rounded-lg px-3 py-3">
                        <legend class="block text-sm font-medium text-slate-700">15. QC/QA (สามารถระบุได้หลายค่า)</legend>
                        <div class="flex flex-wrap gap-3 text-sm">
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="qcNone[]" value="none" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>ไม่มี</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="qcGcp[]" value="GCP" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>GCP</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="qcOtherDEM[]" value="compare_dem" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>เปรียบเทียบ DEM อื่น</span></label>
                          <label class="inline-flex items-center gap-2 flex-1 min-w-[220px]">
                            <input type="checkbox" name="qcOtherFlag[]" value="other" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>อื่น ๆ</span>
                            <input type="text" name="qcOther[]" class="flex-1 rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุวิธี QC/QA อื่น ๆ">
                          </label>
                        </div>
                      </fieldset>
                      <fieldset class="border border-slate-200 rounded-lg px-3 py-3">
                        <legend class="block text-sm font-medium text-slate-700">16. การใช้งานหลัก (สามารถระบุได้หลายค่า)</legend>
                        <div class="flex flex-wrap gap-3 text-sm">
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="useFlood[]" value="flood" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>น้ำท่วม</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="useSubBasin[]" value="sub_basin" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>ลุ่มน้ำย่อย</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="useUrbanPlan[]" value="urban_planning" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>ผังเมือง</span></label>
                          <label class="inline-flex items-center gap-2"><input type="checkbox" name="useModel[]" value="models" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>แบบจำลอง RRI / HEC / MIKE</span></label>
                          <label class="inline-flex items-center gap-2 flex-1 min-w-[220px]">
                            <input type="checkbox" name="useOtherFlag[]" value="other" class="h-4 w-4 text-blue-600 border-slate-300 focus:ring-blue-500"><span>อื่น ๆ</span>
                            <input type="text" name="useOther[]" class="flex-1 rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุการใช้งานอื่น ๆ">
                          </label>
                        </div>
                      </fieldset>
                      <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">17. หมายเหตุ</label>
                        <textarea name="remark[]" rows="1" style="resize: vertical; min-height: 2.5rem;" class="block w-full rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ระบุหมายเหตุเพิ่มเติม เช่น ปัญหาในการใช้งาน, ข้อจำกัด, แผนการปรับปรุงในอนาคต"></textarea>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <div class="flex flex-col gap-3 pt-4 border-t border-slate-200 sm:flex-row sm:items-center sm:justify-end">
            <button type="reset" id="btnResetForm" class="inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 active:bg-slate-100">ล้างค่า</button>
            <button type="submit" id="btnSubmitForm" class="inline-flex items-center justify-center rounded-lg border border-blue-600 bg-blue-600 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 active:bg-blue-800">บันทึกแบบฟอร์ม</button>
          </div>
        </form>
      </div>
    </div>

    <div id="confirmModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-gray-900/60 transition-opacity">
      <div class="bg-white rounded-2xl shadow-xl w-full max-w-[400px] mx-4 p-6 transform transition-all">
        <h3 id="confirmTitle" class="text-xl font-bold text-gray-900 mb-2 text-left">ยืนยันล้างข้อมูล</h3>
        <p id="confirmMessage" class="text-base text-gray-600 mb-8 text-left leading-relaxed">คุณต้องการล้างค่าทั้งหมดในแบบฟอร์มหรือไม่?</p>
        <div class="flex justify-end gap-3">
          <button type="button" id="confirmCancel" class="px-5 py-2.5 rounded-lg border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-200 transition-colors">ยกเลิก</button>
          <button type="button" id="confirmOk" class="px-5 py-2.5 rounded-lg bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm transition-colors">ยืนยัน</button>
        </div>
      </div>
    </div>

    <div id="successModal" class="fixed inset-0 z-[60] hidden items-center justify-center" aria-labelledby="modal-title" role="dialog" aria-modal="true">
      <div class="fixed inset-0 bg-slate-900/50 backdrop-blur-sm transition-opacity"></div>
      <div class="relative z-10 w-full max-w-sm transform overflow-hidden rounded-2xl bg-white p-6 text-center shadow-2xl transition-all sm:p-8 scale-100">
        <div class="mx-auto mb-5 flex h-16 w-16 items-center justify-center rounded-full bg-green-100">
          <i class="fa-solid fa-check text-3xl text-green-600"></i>
        </div>
        <h3 class="mb-2 text-xl font-bold text-slate-800" id="modal-title">บันทึกข้อมูลสำเร็จ!</h3>
        <p class="mb-6 text-sm text-slate-500">ระบบได้ทำการบันทึกข้อมูลแบบฟอร์มเสร็จสิ้น</p>
        <button type="button" id="successOk" class="inline-flex w-full justify-center rounded-xl bg-green-600 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 transition-all duration-200">ตกลง</button>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
